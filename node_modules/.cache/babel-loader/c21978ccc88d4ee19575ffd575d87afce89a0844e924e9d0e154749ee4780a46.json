{"ast":null,"code":"export const selectCartItems = state => state.cart.items;\nexport const selectProducts = state => state.products.list;\nexport const selectSubtotal = state => {\n  const items = selectCartItems(state);\n  const products = selectProducts(state);\n  return Object.entries(items).reduce((sum, [id, qty]) => {\n    const product = products.find(p => p.id === id);\n    return sum + product.price * qty;\n  }, 0);\n};\nexport const selectSavings = state => {\n  const items = selectCartItems(state);\n  const products = selectProducts(state);\n  let savings = 0;\n  const getPrice = id => products.find(p => p.id === id).price;\n  const cheeseQty = items[\"cheese\"] || 0;\n  savings += Math.floor(cheeseQty / 2) * getPrice(\"cheese\");\n  const soupQty = items[\"soup\"] || 0;\n  const breadQty = items[\"bread\"] || 0;\n  const eligibleBread = Math.min(soupQty, breadQty);\n  savings += eligibleBread * (getPrice(\"bread\") / 2);\n  const butterQty = items[\"butter\"] || 0;\n  savings += butterQty * (getPrice(\"butter\") / 3);\n  return savings;\n};\nexport const selectTotal = state => selectSubtotal(state) - selectSavings(state);","map":{"version":3,"names":["selectCartItems","state","cart","items","selectProducts","products","list","selectSubtotal","Object","entries","reduce","sum","id","qty","product","find","p","price","selectSavings","savings","getPrice","cheeseQty","Math","floor","soupQty","breadQty","eligibleBread","min","butterQty","selectTotal"],"sources":["F:/billing-app-assignment/src/features/cart/cartSelectors.ts"],"sourcesContent":["import { RootState } from \"../../app/store\";\r\n\r\nexport const selectCartItems = (state: RootState) => state.cart.items;\r\nexport const selectProducts = (state: RootState) => state.products.list;\r\n\r\nexport const selectSubtotal = (state: RootState): number => {\r\n  const items = selectCartItems(state);\r\n  const products = selectProducts(state);\r\n\r\n  return Object.entries(items).reduce((sum, [id, qty]) => {\r\n    const product = products.find(p => p.id === id)!;\r\n    return sum + product.price * qty;\r\n  }, 0);\r\n};\r\n\r\nexport const selectSavings = (state: RootState): number => {\r\n  const items = selectCartItems(state);\r\n  const products = selectProducts(state);\r\n\r\n  let savings = 0;\r\n\r\n  const getPrice = (id: string) => products.find(p => p.id === id)!.price;\r\n\r\n  const cheeseQty = items[\"cheese\"] || 0;\r\n  savings += Math.floor(cheeseQty / 2) * getPrice(\"cheese\");\r\n\r\n  const soupQty = items[\"soup\"] || 0;\r\n  const breadQty = items[\"bread\"] || 0;\r\n  const eligibleBread = Math.min(soupQty, breadQty);\r\n  savings += eligibleBread * (getPrice(\"bread\") / 2);\r\n\r\n  const butterQty = items[\"butter\"] || 0;\r\n  savings += butterQty * (getPrice(\"butter\") / 3);\r\n\r\n  return savings;\r\n};\r\n\r\nexport const selectTotal = (state: RootState) =>\r\n  selectSubtotal(state) - selectSavings(state);\r\n"],"mappings":"AAEA,OAAO,MAAMA,eAAe,GAAIC,KAAgB,IAAKA,KAAK,CAACC,IAAI,CAACC,KAAK;AACrE,OAAO,MAAMC,cAAc,GAAIH,KAAgB,IAAKA,KAAK,CAACI,QAAQ,CAACC,IAAI;AAEvE,OAAO,MAAMC,cAAc,GAAIN,KAAgB,IAAa;EAC1D,MAAME,KAAK,GAAGH,eAAe,CAACC,KAAK,CAAC;EACpC,MAAMI,QAAQ,GAAGD,cAAc,CAACH,KAAK,CAAC;EAEtC,OAAOO,MAAM,CAACC,OAAO,CAACN,KAAK,CAAC,CAACO,MAAM,CAAC,CAACC,GAAG,EAAE,CAACC,EAAE,EAAEC,GAAG,CAAC,KAAK;IACtD,MAAMC,OAAO,GAAGT,QAAQ,CAACU,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKA,EAAE,CAAE;IAChD,OAAOD,GAAG,GAAGG,OAAO,CAACG,KAAK,GAAGJ,GAAG;EAClC,CAAC,EAAE,CAAC,CAAC;AACP,CAAC;AAED,OAAO,MAAMK,aAAa,GAAIjB,KAAgB,IAAa;EACzD,MAAME,KAAK,GAAGH,eAAe,CAACC,KAAK,CAAC;EACpC,MAAMI,QAAQ,GAAGD,cAAc,CAACH,KAAK,CAAC;EAEtC,IAAIkB,OAAO,GAAG,CAAC;EAEf,MAAMC,QAAQ,GAAIR,EAAU,IAAKP,QAAQ,CAACU,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKA,EAAE,CAAC,CAAEK,KAAK;EAEvE,MAAMI,SAAS,GAAGlB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;EACtCgB,OAAO,IAAIG,IAAI,CAACC,KAAK,CAACF,SAAS,GAAG,CAAC,CAAC,GAAGD,QAAQ,CAAC,QAAQ,CAAC;EAEzD,MAAMI,OAAO,GAAGrB,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;EAClC,MAAMsB,QAAQ,GAAGtB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;EACpC,MAAMuB,aAAa,GAAGJ,IAAI,CAACK,GAAG,CAACH,OAAO,EAAEC,QAAQ,CAAC;EACjDN,OAAO,IAAIO,aAAa,IAAIN,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;EAElD,MAAMQ,SAAS,GAAGzB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;EACtCgB,OAAO,IAAIS,SAAS,IAAIR,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;EAE/C,OAAOD,OAAO;AAChB,CAAC;AAED,OAAO,MAAMU,WAAW,GAAI5B,KAAgB,IAC1CM,cAAc,CAACN,KAAK,CAAC,GAAGiB,aAAa,CAACjB,KAAK,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}